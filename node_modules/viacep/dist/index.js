var t,e=require("node-fetch"),r=(t=e)&&"object"==typeof t&&"default"in t?t.default:t,n=function(t){this.status=t.status,this.statusText=t.statusText},s=function(){function t(){}return t.prototype.makeApiRequest=function(t){try{return Promise.resolve(function(n,s){try{var o=Promise.resolve(r("https://viacep.com.br/ws/"+t+"/json",{headers:{"Content-Type":"application/json; charset=utf-8"}})).then(function(t){if(!t.ok)throw t;return Promise.resolve(t.json()).then(function(t){if(t.erro)throw new e.Response(null,{status:404,statusText:"A pesquisa n√£o retornou dados"});return t})})}catch(t){return s(t)}return o&&o.then?o.then(void 0,s):o}(0,function(t){switch(t.status){case 400:case 404:throw new n(t);default:throw t}}))}catch(t){return Promise.reject(t)}},t}();exports.ViaCEP=function(){function t(){this.request=new s}return t.prototype.cep=function(t){try{var e,r=this,n=function(n){return e?n:Promise.resolve(r.request.makeApiRequest(encodeURI(t.state+"/"+t.city+"/"+t.street)))},s=function(){if("string"==typeof t)return e=1,Promise.resolve(r.request.makeApiRequest(""+t))}();return Promise.resolve(s&&s.then?s.then(n):n(s))}catch(t){return Promise.reject(t)}},t}();
//# sourceMappingURL=index.js.map
